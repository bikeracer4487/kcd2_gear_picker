[//]: # (DO NOT EDIT: This file has been autogenerated, any changes will be overwritten)
# Helmet-Off Dialog (Beta)  


[//]: # (DO NOT EDIT: This file has been autogenerated, any changes will be overwritten)
[![Nexus Mods KCD1](https://gist.githubusercontent.com/rdok/a6eccd074fae4e9bc56ab2e8b0eb579f/raw/edef5b7e7b9d24b00627ec3d7c435bcd1a1697d9/nexus_mods_kcd1.svg)](https://www.nexusmods.com/kingdomcomedeliverance/mods/1909) 
[![Nexus Mods KCD2](https://gist.githubusercontent.com/rdok/a6eccd074fae4e9bc56ab2e8b0eb579f/raw/edef5b7e7b9d24b00627ec3d7c435bcd1a1697d9/nexus_mods_kcd2.svg)](https://www.nexusmods.com/kingdomcomedeliverance2/mods/1023) 
[![Steam Workshop](https://gist.githubusercontent.com/rdok/a6eccd074fae4e9bc56ab2e8b0eb579f/raw/edef5b7e7b9d24b00627ec3d7c435bcd1a1697d9/steam_workshop.svg)](https://steamcommunity.com/sharedfiles/filedetails/?id=3443915670) 
[![GitHub](https://gist.githubusercontent.com/rdok/a6eccd074fae4e9bc56ab2e8b0eb579f/raw/edef5b7e7b9d24b00627ec3d7c435bcd1a1697d9/github.svg)](https://github.com/rdok/kcd2_helmet_off_dialog) 
[![Test Coverage](https://gist.githubusercontent.com/rdok/a6eccd074fae4e9bc56ab2e8b0eb579f/raw/kcd2_helmet_off_dialog_badges_14155978998.svg?label=Coverage&logo=codecov&cache=14155710125&cache=14155978998)](https://github.com/rdok/kcd2_helmet_off_dialog/actions/runs/14155978998)

[//]: # (DO NOT EDIT: This file has been autogenerated, any changes will be overwritten)
This mod automatically takes off your helmet, head chainmail (KCD 1) and coif when starting a conversation with an NPC, then puts them back on when the dialog ends.  


[//]: # (DO NOT EDIT: This file has been autogenerated, any changes will be overwritten)
## KCD 2 Showcase

[![Showcase](https://github.com/rdok/kcd2_helmet_off_dialog/blob/main/documentation/kcd2_showcase.gif?raw=true)](https://www.nexusmods.com/kingdomcomedeliverance2/mods/831)

## KCD 1 Showcase

[![Showcase](https://github.com/rdok/kcd2_helmet_off_dialog/blob/main/documentation/kcd1_showcase.gif?raw=true)](https://www.nexusmods.com/kingdomcomedeliverance2/mods/831)

[//]: # (DO NOT EDIT: This file has been autogenerated, any changes will be overwritten)
## Mod Overview
- **Main Version (Required):** Takes off the helmet, head chainmail (KCD 1), and coif at the start of every dialogue and puts them back on when the conversation ends.
  - Install this base mod to enable the core takeoff functionality.
- **Optional Mods:** Enhance the main version with additional takeoff features, which can be loaded on demand. Install any combination of the following optional mods:
  - **Helmet-Only:** Takes off only the helmet at the start of every dialogue and puts it back on when the conversation ends, leaving head chainmail (KCD 1) and coif unchanged.
  - **Random:** Takes off the helmet, head chainmail (KCD 1), and coif in random dialogues (e.g., gear might come off in one conversation but stay on in the next).
    - *Player Note:* This reflects my reason for creating this mod—half because I expect I’ll tire of seeing Henry’s face, and half because the helmets are cool to look at, especially when switching between them.
  - **Ranged:** Takes off ranged weapons at the start of dialogues and puts them back on when the conversation ends (requires the main version for gear context).

## Caveats
- **Charisma Impact**: Taking off the helmet or coif during dialogue will probably lower charisma, as these items contribute to that stat. I don’t plan to address this, as high charisma is achievable without them, and it’s an acceptable trade-off for the mod’s functionality.
- **Non-Helmet Items**: Head armour like hats remains unaffected by this mod.
- **Hack: IsEquipped**: Neither KCD 2 nor KCD 1 provides a Lua API function to retrieve equipped slot items. To address this, the mod uses a hack. It iterates through all helmets and coifs in the player's inventory, taking them off. If the player's equipped weight changes, the mod identifies that item as the one equipped.


[//]: # (DO NOT EDIT: This file has been autogenerated, any changes will be overwritten)
