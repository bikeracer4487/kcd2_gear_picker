<?xml version="1.0" encoding="us-ascii"?>
<database>
	<NPCStateActionDatabase version="1">
		<!--
		============================================================= BENCH ========================================================================
		-->
		<ChangeStanceAction Name="SitDown" FromStance="standing" ToStance="sitting" />
		<ChangeStanceAction Name="SitDown" Urgency="Instant" FromStance="standing" ToStance="sitting" />

		<ChangeStanceAction Name="StandUpFromSitting" DataSource="CurrentState" FromStance="sitting" ToStance="standing" />
		<ChangeStanceAction Name="StandUpFromSitting" Urgency="Slow" DataSource="CurrentState" FromStance="sitting" ToStance="standing" />
		<ChangeStanceAction Name="StandUpFromSitting" Urgency="Fast" DataSource="CurrentState" FromStance="sitting" ToStance="standing" />
		<ChangeStanceAction Name="StandUpFromSitting" Urgency="Instant" DataSource="CurrentState" FromStance="sitting" ToStance="standing" />
		
		<ChangeStanceAction Name="SitUpFromLying" DataSource="CurrentState" FromStance="lying" ToStance="sitting" RequiresEqualFromToObjects="True" />
		<ChangeStanceAction Name="SitUpFromLying" Urgency="Instant" DataSource="CurrentState" FromStance="lying" ToStance="sitting" RequiresEqualFromToObjects="True" />

		<ChangeStanceToCombatAction Name="StandUpFromSittingToCombatLeftHand" Urgency="Fast" DataSource="CurrentState" FromStance="sitting" ToStance="standing" >
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
		</ChangeStanceToCombatAction>
		<ChangeStanceToCombatAction Name="StandUpFromSittingToCombatRightHand" Urgency="Fast" DataSource="CurrentState" FromStance="sitting" ToStance="standing" >
			<Effects>
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
		</ChangeStanceToCombatAction>
		<ChangeStanceToCombatAction Name="StandUpFromSittingToCombatBothHand" Urgency="Fast" DataSource="CurrentState" FromStance="sitting" ToStance="standing" >
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
		</ChangeStanceToCombatAction>

		<!--
		============================================================= BED ========================================================================
		-->
		<ChangeStanceAction Name="LieDown" FromStance="standing" ToStance="lying" >
			<Conditions>
				<LeftHandCondition RequiresEmpty="True" />
				<RightHandCondition RequiresEmpty="True" />
			</Conditions>
		</ChangeStanceAction>
		<ChangeStanceAction Name="LieDown" Urgency="Instant" FromStance="standing" ToStance="lying" >
			<Conditions>
				<LeftHandCondition RequiresEmpty="True" />
				<RightHandCondition RequiresEmpty="True" />
			</Conditions>
		</ChangeStanceAction>
		<ChangeStanceAction Name="StandUpFromLying" DataSource="CurrentState" FromStance="lying" ToStance="standing" >
			<Conditions>
				<LeftHandCondition RequiresEmpty="True" />
				<RightHandCondition RequiresEmpty="True" />
			</Conditions>
		</ChangeStanceAction>
		<ChangeStanceAction Name="StandUpFromLying" Urgency="Slow" DataSource="CurrentState" FromStance="lying" ToStance="standing">
			<Conditions>
				<LeftHandCondition RequiresEmpty="True" />
				<RightHandCondition RequiresEmpty="True" />
			</Conditions>
		</ChangeStanceAction>
		<ChangeStanceAction Name="StandUpFromLying" Urgency="Fast" DataSource="CurrentState" FromStance="lying" ToStance="standing">
			<Conditions>
				<LeftHandCondition RequiresEmpty="True" />
				<RightHandCondition RequiresEmpty="True" />
			</Conditions>
		</ChangeStanceAction>
		<ChangeStanceAction Name="StandUpFromLying" Urgency="Instant" DataSource="CurrentState" FromStance="lying" ToStance="standing">
			<Conditions>
				<LeftHandCondition RequiresEmpty="True" />
				<RightHandCondition RequiresEmpty="True" />
			</Conditions>
		</ChangeStanceAction>
		
		<ChangeStanceAction Name="LieDownFromSitting" FromStance="sitting" ToStance="lying" RequiresEqualFromToObjects="True" >
			<Conditions>
				<LeftHandCondition RequiresEmpty="True" />
				<RightHandCondition RequiresEmpty="True" />
			</Conditions>
		</ChangeStanceAction>

		<ChangeStanceAction Name="LieDownFromSitting" Urgency="Instant" FromStance="sitting" ToStance="lying" RequiresEqualFromToObjects="True" >
			<Conditions>
				<LeftHandCondition RequiresEmpty="True" />
				<RightHandCondition RequiresEmpty="True" />
			</Conditions>
		</ChangeStanceAction>
		
		<ChangeStanceToCombatAction Name="StandUpFromLyingToCombatLeftHand" Urgency="Fast" DataSource="CurrentState" FromStance="lying" ToStance="standing" >
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
		</ChangeStanceToCombatAction>
		<ChangeStanceToCombatAction Name="StandUpFromLyingToCombatRightHand" Urgency="Fast" DataSource="CurrentState" FromStance="lying" ToStance="standing" >
			<Effects>
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
		</ChangeStanceToCombatAction>
		<ChangeStanceToCombatAction Name="StandUpFromLyingToCombatBothHand" Urgency="Fast" DataSource="CurrentState" FromStance="lying" ToStance="standing" >
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
		</ChangeStanceToCombatAction>

		<ChangeCrouchAction Name="CrouchDown" />
		<ChangeCrouchAction Name="CrouchUp" DataSource="CurrentState" />
		<ChangeCrouchAction Name="CrouchDown" Urgency="Instant" />
		<ChangeCrouchAction Name="CrouchUp" DataSource="CurrentState" Urgency="Instant" />
		
		<!--
		============================================================= PICK / PLACE ========================================================================
		-->
		<PickUpAction Name="PickUpRight" Hand="Right" >
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Right" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Right" Negate="True" />
			</FilteringConditions>
		</PickUpAction>
		<PickUpAction Name="PickUpRight" Hand="Right" Urgency="Instant" >
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Right" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Right" Negate="True" />
			</FilteringConditions>
		</PickUpAction>
		<PickUpAction Name="PickUpRight_BothEmpty" Hand="Right" >
			<Conditions>
				<LeftHandCondition DataSource="RequiredState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Right" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Right" />
			</FilteringConditions>
		</PickUpAction>
		<PickUpAction Name="PickUpRight_BothEmpty" Hand="Right" Urgency="Instant" >
			<Conditions>
				<LeftHandCondition DataSource="RequiredState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Right" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Right" />
			</FilteringConditions>
		</PickUpAction>

		<PickUpAction Name="PickUpFromWorldRight" Hand="Right" >
			<FilteringConditions>
				<FilteringConditionIsFromWorldInventory Hand="Right" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Right" Negate="True" />
			</FilteringConditions>
		</PickUpAction>
		<PickUpAction Name="PickUpFromWorldRight" Hand="Right" Urgency="Instant" >
			<FilteringConditions>
				<FilteringConditionIsFromWorldInventory Hand="Right" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Right" Negate="True" />
			</FilteringConditions>
		</PickUpAction>
		<PickUpAction Name="PickUpFromWorldRight_BothEmpty" Hand="Right" >
			<Conditions>
				<LeftHandCondition DataSource="RequiredState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionIsFromWorldInventory Hand="Right" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Right" />
			</FilteringConditions>
		</PickUpAction>
		<PickUpAction Name="PickUpFromWorldRight_BothEmpty" Hand="Right" Urgency="Instant" >
			<Conditions>
				<LeftHandCondition DataSource="RequiredState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionIsFromWorldInventory Hand="Right" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Right" />
			</FilteringConditions>
		</PickUpAction>

		<PutItemInHandAction Name="PutItemInHandRight" Hand="Right" >
			<FilteringConditions>
				<FilteringConditionIsFromMyInventory Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" Negate="true"/>
			</FilteringConditions>
		</PutItemInHandAction>

		<PutItemInHandAction Name="PutItemInHandRight" Hand="Right" Urgency="Instant" >
			<FilteringConditions>
				<FilteringConditionIsFromMyInventory Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" Negate="true"/>
			</FilteringConditions>
		</PutItemInHandAction>

		<PutItemInHandAction Name="PutItemInHandLeft" Hand="Left" >
			<FilteringConditions>
				<FilteringConditionIsFromMyInventory Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" Negate="true"/>
			</FilteringConditions>
		</PutItemInHandAction>

		<PutItemInHandAction Name="PutItemInHandLeft" Hand="Left" Urgency="Instant" >
			<FilteringConditions>
				<FilteringConditionIsFromMyInventory Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" Negate="true"/>
			</FilteringConditions>
		</PutItemInHandAction>
		
		<PutItemInHandAction Name="PutItemInHandLeftTorchHorse" Hand="Left" >
			<Conditions>
				<StanceCondition RequiredStance="horse" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionIsFromMyInventory Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" Negate="true"/>
				<FilteringConditionManipulationType ManipulationType="6" DataSource="RequiredState" Hand="Left" />
			</FilteringConditions>
		</PutItemInHandAction>

		<PutItemInHandAction Name="PutItemInHandLeftTorchHorse" Hand="Left" Urgency="Instant" >
			<Conditions>
				<StanceCondition RequiredStance="horse" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionIsFromMyInventory Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" Negate="true"/>
				<FilteringConditionManipulationType ManipulationType="6" DataSource="RequiredState" Hand="Left" />
			</FilteringConditions>
		</PutItemInHandAction>

		<PutItemInInventoryAction Name="PutItemInInventoryRight" Hand="Right" >
			<FilteringConditions>
				<FilteringConditionBelongsToMyInventory Hand="Right" DataSource="CurrentState"/>
				<FilteringConditionIsEquipped DataSource="CurrentState" Hand="Right" Negate="true"/>
			</FilteringConditions>
		</PutItemInInventoryAction>

		<PutItemInInventoryAction Name="PutItemInInventoryRight" Hand="Right" Urgency="Instant" >
			<FilteringConditions>
				<FilteringConditionBelongsToMyInventory Hand="Right" DataSource="CurrentState"/>
				<FilteringConditionIsEquipped DataSource="CurrentState" Hand="Right" Negate="true"/>
			</FilteringConditions>
		</PutItemInInventoryAction>

		<PutItemInInventoryAction Name="PutItemInInventoryLeft" Hand="Left" >
			<FilteringConditions>
				<FilteringConditionBelongsToMyInventory Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsEquipped DataSource="CurrentState" Hand="Left" Negate="true"/>
			</FilteringConditions>
		</PutItemInInventoryAction>

		<PutItemInInventoryAction Name="PutItemInInventoryLeft" Hand="Left" Urgency="Instant" >
			<FilteringConditions>
				<FilteringConditionBelongsToMyInventory Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsEquipped DataSource="CurrentState" Hand="Left" Negate="true"/>
			</FilteringConditions>
		</PutItemInInventoryAction>
		
		<PutItemInInventoryAction Name="PutItemInInventoryLeftTorch" Hand="Left" >
			<FilteringConditions>
				<FilteringConditionBelongsToMyInventory Hand="Left" DataSource="CurrentState" />
				<FilteringConditionManipulationType ManipulationType="6" DataSource="CurrentState" Hand="Left" />
			</FilteringConditions>
		</PutItemInInventoryAction>

		<PutItemInInventoryAction Name="PutItemInInventoryLeftTorch" Hand="Left" Urgency="Instant" >
			<FilteringConditions>
				<FilteringConditionBelongsToMyInventory Hand="Left" DataSource="CurrentState" />
				<FilteringConditionManipulationType ManipulationType="6" DataSource="CurrentState" Hand="Left" />
			</FilteringConditions>
		</PutItemInInventoryAction>
		
		<PutItemInInventoryAction Name="PutItemInInventoryLeftTorchHorse" Hand="Left" >
			<Conditions>
				<StanceCondition RequiredStance="horse" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionBelongsToMyInventory Hand="Left" DataSource="CurrentState" />
				<FilteringConditionManipulationType ManipulationType="6" DataSource="CurrentState" Hand="Left" />
			</FilteringConditions>
		</PutItemInInventoryAction>

		<PlaceAction Name="PlaceRight" Hand="Right" Priority="3" >
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Right" DataSource="CurrentState" Negate="True" />
			</FilteringConditions>
		</PlaceAction>
		<DropAction Name="PlaceRight" Hand="Right" Urgency="Fast" Priority="3" >
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Right" DataSource="CurrentState" Negate="True" />
			</FilteringConditions>
		</DropAction>
		<PlaceAction Name="PlaceRight" Hand="Right" Urgency="Instant" Priority="3" >
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Right" DataSource="CurrentState" Negate="True" />
			</FilteringConditions>
		</PlaceAction>
		<PlaceAction Name="PlaceRight_BothEmpty" Hand="Right" Priority="3" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Right" DataSource="CurrentState" />
			</FilteringConditions>
		</PlaceAction>
		<DropAction Name="PlaceRight_BothEmpty" Hand="Right" Urgency="Fast" Priority="3" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Right" DataSource="CurrentState" />
			</FilteringConditions>
		</DropAction>
		<PlaceAction Name="PlaceRight_BothEmpty" Hand="Right" Urgency="Instant" Priority="3" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Right" DataSource="CurrentState" />
			</FilteringConditions>
		</PlaceAction>

		<PickUpAction Name="PickUpLeft" Hand="Left" >
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Left" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Left" Negate="True" />
			</FilteringConditions>
		</PickUpAction>
		<PickUpAction Name="PickUpLeft" Hand="Left" Urgency="Instant" >
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Left" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Left" Negate="True" />
			</FilteringConditions>
		</PickUpAction>
		<PickUpAction Name="PickUpLeft_BothEmpty" Hand="Left" >
			<Conditions>
				<RightHandCondition DataSource="RequiredState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Left" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Left" />
			</FilteringConditions>
		</PickUpAction>
		<PickUpAction Name="PickUpLeft_BothEmpty" Hand="Left" Urgency="Instant" >
			<Conditions>
				<RightHandCondition DataSource="RequiredState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Left" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Left" />
			</FilteringConditions>
		</PickUpAction>

		<PickUpAction Name="PickUpFromWorldLeft" Hand="Left" >
			<FilteringConditions>
				<FilteringConditionIsFromWorldInventory Hand="Left" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Left" Negate="True" />
			</FilteringConditions>
		</PickUpAction>
		<PickUpAction Name="PickUpFromWorldLeft" Hand="Left" Urgency="Instant" >
			<FilteringConditions>
				<FilteringConditionIsFromWorldInventory Hand="Left" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Left" Negate="True" />
			</FilteringConditions>
		</PickUpAction>
		<PickUpAction Name="PickUpFromWorldLeft_BothEmpty" Hand="Left" >
			<Conditions>
				<RightHandCondition DataSource="RequiredState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionIsFromWorldInventory Hand="Left" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Left" />
			</FilteringConditions>
		</PickUpAction>
		<PickUpAction Name="PickUpFromWorldLeft_BothEmpty" Hand="Left" Urgency="Instant" >
			<Conditions>
				<RightHandCondition DataSource="RequiredState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionIsFromWorldInventory Hand="Left" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Left" />
			</FilteringConditions>
		</PickUpAction>

		<PlaceAction Name="PlaceLeft" Hand="Left" Priority="3" >
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Left" DataSource="CurrentState" Negate="True" />
			</FilteringConditions>
		</PlaceAction>
		<DropAction Name="PlaceLeft" Hand="Left" Urgency="Fast" Priority="3" >
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Left" DataSource="CurrentState" Negate="True" />
			</FilteringConditions>
		</DropAction >
		<PlaceAction Name="PlaceLeft" Hand="Left" Urgency="Instant" Priority="3" >
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Left" DataSource="CurrentState" Negate="True" />
			</FilteringConditions>
		</PlaceAction>
		<PlaceAction Name="PlaceLeft_BothEmpty" Hand="Left" Priority="3" >
			<Conditions>
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Left" DataSource="CurrentState" />
			</FilteringConditions>
		</PlaceAction>
		<DropAction Name="PlaceLeft_BothEmpty" Hand="Left" Urgency="Fast" Priority="3" >
			<Conditions>
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Left" DataSource="CurrentState" />
			</FilteringConditions>
		</DropAction >
		<PlaceAction Name="PlaceLeft_BothEmpty" Hand="Left" Urgency="Instant" Priority="3" >
			<Conditions>
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" />
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Left" DataSource="CurrentState" />
			</FilteringConditions>
		</PlaceAction>

		<HolsterWeaponAction Name="HolsterLeft" Priority="3">
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" Negate="true" />
				<FilteringConditionManipulationType ManipulationType="6" DataSource="CurrentState" Hand="Left" Negate="true"/>
			</FilteringConditions>
		</HolsterWeaponAction>

		<HolsterWeaponAction Name="HolsterRight"  Priority="3">
			<Conditions>
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="False" />
			</Conditions>
			<Effects>
				<ChangeRightHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" Negate="true" />
			</FilteringConditions>
		</HolsterWeaponAction>

		<HolsterWeaponAction Name="HolsterBoth" Priority="3">
			<Conditions>
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="False" />
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" />
			</Conditions>
			<Effects>
				<ChangeRightHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
				<ChangeLeftHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon DataSource="CurrentState" Hand="Right" />
				<FilteringConditionIsEquipped DataSource="CurrentState" Hand="Right" />
				<FilteringConditionIsFromSlot  DataSource="CurrentState" Hand="Right" Negate="true" />
				<FilteringConditionIsWeapon DataSource="CurrentState" Hand="Left" />
				<FilteringConditionIsEquipped DataSource="CurrentState" Hand="Left" />
				<FilteringConditionIsFromSlot  DataSource="CurrentState" Hand="Left" Negate="true" />
				<FilteringConditionManipulationType ManipulationType="6" DataSource="CurrentState" Hand="Left" Negate="true" /> <!-- l_torch holster animations don't holster torch -->
			</FilteringConditions>
		</HolsterWeaponAction>
		
		<HolsterWeaponAction Name="HolsterBothTorch" Priority="3"> <!-- Special action that holsters only the weapon and leaves torch in hand -->
			<Conditions>
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="False" />
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" />
			</Conditions>
			<Effects>
				<ChangeRightHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon DataSource="CurrentState" Hand="Right" />
				<FilteringConditionIsEquipped DataSource="CurrentState" Hand="Right" />
				<FilteringConditionIsFromSlot  DataSource="CurrentState" Hand="Right" Negate="true" />
				<FilteringConditionManipulationType ManipulationType="6" DataSource="CurrentState" Hand="Left" />
			</FilteringConditions>
		</HolsterWeaponAction>
		
		<HolsterWeaponAction Name="HolsterBothTorch" Urgency="Instant" Priority="3"> <!-- Special action that holsters only the weapon and leaves torch in hand -->
			<Conditions>
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="False" />
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" />
			</Conditions>
			<Effects>
				<ChangeRightHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon DataSource="CurrentState" Hand="Right" />
				<FilteringConditionIsEquipped DataSource="CurrentState" Hand="Right" />
				<FilteringConditionIsFromSlot  DataSource="CurrentState" Hand="Right" Negate="true" />
				<FilteringConditionManipulationType ManipulationType="6" DataSource="CurrentState" Hand="Left" />
			</FilteringConditions>
		</HolsterWeaponAction>
		
		<HolsterWeaponAction Name="HolsterLeft" Urgency="Instant" Priority="3" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" Negate="true" />
				<FilteringConditionManipulationType ManipulationType="6" DataSource="CurrentState" Hand="Left" Negate="true"/>
			</FilteringConditions>
		</HolsterWeaponAction>

		<HolsterWeaponAction Name="HolsterRight" Urgency="Instant" Priority="3" >
			<Conditions>
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="False" />
			</Conditions>
			<Effects>
				<ChangeRightHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" Negate="true" />
			</FilteringConditions>
		</HolsterWeaponAction>

		<HolsterWeaponAction Name="HolsterBoth" Urgency="Instant" Priority="3" >
			<Conditions>
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="False" />
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" />
			</Conditions>
			<Effects>
				<ChangeRightHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
				<ChangeLeftHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon DataSource="CurrentState" Hand="Right" />
				<FilteringConditionIsEquipped DataSource="CurrentState" Hand="Right" />
				<FilteringConditionIsFromSlot  DataSource="CurrentState" Hand="Right" Negate="true" />
				<FilteringConditionIsWeapon DataSource="CurrentState" Hand="Left" />
				<FilteringConditionIsEquipped DataSource="CurrentState" Hand="Left" />
				<FilteringConditionIsFromSlot  DataSource="CurrentState" Hand="Left" Negate="true" />
				<FilteringConditionManipulationType ManipulationType="6" DataSource="CurrentState" Hand="Left" Negate="true" /> <!-- l_torch holster animations don't holster torch -->
			</FilteringConditions>
		</HolsterWeaponAction>

		<HolsterWeaponAction Name="HolsterLeftOnHorse"  Stance="horse" Priority="3">
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" Negate="true" />
				<FilteringConditionManipulationType ManipulationType="6" DataSource="CurrentState" Hand="Left" Negate="true"/>
			</FilteringConditions>
		</HolsterWeaponAction>

		<HolsterWeaponAction Name="HolsterLeftOnHorse" Stance="horse" Urgency="Instant" Priority="3" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" Negate="true" />
				<FilteringConditionManipulationType ManipulationType="6" DataSource="CurrentState" Hand="Left" Negate="true"/>
			</FilteringConditions>
		</HolsterWeaponAction>

		<DrawWeaponAction Name="DrawLeft" >
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
			</FilteringConditions>
		</DrawWeaponAction>

		<DrawWeaponAction Name="DrawRight" >
			<Effects>
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</DrawWeaponAction>

		<DrawWeaponAction Name="DrawRightWithTorch" >
			<Effects>
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
			<Conditions>
				<LeftHandCondition DataSource="RequiredState" RequiresEmpty="False" InitializeItemFromRequest="True" AllowMissingIfLightSource="False" /> <!-- Already has required left hand item in hand -->
			</Conditions>
		</DrawWeaponAction>

		<DrawWeaponAction Name="DrawBoth" >
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</DrawWeaponAction>

		<DrawWeaponAction Name="DrawBothWithTorch" >
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsFromMyInventory Hand="Left" />
				<FilteringConditionIsLightSource Hand="Left" RequiresWeapon="True" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</DrawWeaponAction>

		<DrawWeaponAction Name="DrawLeft" Urgency="Instant" >
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
			</FilteringConditions>
		</DrawWeaponAction>

		<DrawWeaponAction Name="DrawRight" Urgency="Instant" >
			<Effects>
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</DrawWeaponAction>

		<DrawWeaponAction Name="DrawBoth" Urgency="Instant" >
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</DrawWeaponAction>

		<DrawWeaponAction Name="DrawBothWithTorch" Urgency="Instant" >
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsFromMyInventory Hand="Left" />
				<FilteringConditionIsLightSource Hand="Left" RequiresWeapon="True" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</DrawWeaponAction>

		<DrawWeaponAction Name="DrawLeftOnHorse" Stance="horse" >
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
			</FilteringConditions>
		</DrawWeaponAction>

		<DrawWeaponAction Name="DrawLeftOnHorse" Stance="horse" Urgency="Instant" >
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
			</FilteringConditions>
		</DrawWeaponAction>

		<!-- DrawRightOnHorse and DrawBothOnHorse is instant only and only for loading the game save -->
		<DrawWeaponAction Name="DrawRightOnHorse" Stance="horse" Urgency="Instant" >
			<FilteringConditions>
				<FilteringConditionSearchRequestFlags RequiredFlags="4" />		<!-- Flags are set so action is used only during game load -->
			</FilteringConditions>
			<Effects>
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</DrawWeaponAction>

		<DrawWeaponAction Name="DrawBothOnHorse" Stance="horse" Urgency="Instant" >
			<FilteringConditions>
				<FilteringConditionSearchRequestFlags RequiredFlags="4" />		<!-- Flags are set so action is used only during game load -->
			</FilteringConditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</DrawWeaponAction>


		<!-- Draw weapons that are delegated, used only during game load -->
		<DrawWeaponAction Name="DrawRightDelegated" Urgency="Instant" UnknownWeaponSetModeRight="AllowItemsFromChangeEquipment" UnknownWeaponSetModeLeft="AllowItemsFromChangeEquipment" >
			<Conditions>
				<ChangeEquipmentCondition RequiredDefault="False" />
			</Conditions>
			<Effects>
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionSearchRequestFlags RequiredFlags="4" />		<!-- Flags are set so action is used only during game load -->
				<FilteringConditionIsInChangedEquipment Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</DrawWeaponAction>

		<DrawWeaponAction Name="DrawLefttDelegated" Urgency="Instant" UnknownWeaponSetModeRight="AllowItemsFromChangeEquipment" UnknownWeaponSetModeLeft="AllowItemsFromChangeEquipment" >
			<Conditions>
				<ChangeEquipmentCondition RequiredDefault="False" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionSearchRequestFlags RequiredFlags="4" />		<!-- Flags are set so action is used only during game load -->
				<FilteringConditionIsInChangedEquipment Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
			</FilteringConditions>
		</DrawWeaponAction>

		<DrawWeaponAction Name="DrawBothDelegated" Urgency="Instant" UnknownWeaponSetModeRight="AllowItemsFromChangeEquipment" UnknownWeaponSetModeLeft="AllowItemsFromChangeEquipment" >
			<Conditions>
				<ChangeEquipmentCondition RequiredDefault="False" />
			</Conditions>
			<Effects>
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsInChangedEquipment Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsInChangedEquipment Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
				<FilteringConditionSearchRequestFlags RequiredFlags="4" />		<!-- Flags are set so action is used only during game load -->
			</FilteringConditions>
		</DrawWeaponAction>

		<DrawWeaponAction Name="DrawBothWithTorchDelegated" Urgency="Instant" UnknownWeaponSetModeRight="AllowItemsFromChangeEquipment" UnknownWeaponSetModeLeft="AllowItemsFromInventory" >
			<Conditions>
				<ChangeEquipmentCondition RequiredDefault="False" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsFromMyInventory Hand="Left" />
				<FilteringConditionIsLightSource Hand="Left" RequiresWeapon="True" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsInChangedEquipment Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
				<FilteringConditionSearchRequestFlags RequiredFlags="4" />		<!-- Flags are set so action is used only during game load -->
			</FilteringConditions>
		</DrawWeaponAction>

		<SwapWeaponAction Name="SwapLeftLeft" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
			</FilteringConditions>
		</SwapWeaponAction>

		<SwapWeaponAction Name="SwapLeftRight" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="True" ValidationMode="Validate" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</SwapWeaponAction>

		<SwapWeaponAction Name="SwapLeftBoth" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</SwapWeaponAction>

		<SwapWeaponAction Name="SwapRightLeft" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="True" />
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="True" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
			</FilteringConditions>
		</SwapWeaponAction>

		<SwapWeaponAction Name="SwapRightRight" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="True" />
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
			</Conditions>
			<Effects>
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</SwapWeaponAction>

		<SwapWeaponAction Name="SwapRightBoth" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="True" />
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</SwapWeaponAction>

		<SwapWeaponAction Name="SwapBothLeft" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="True" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
			</FilteringConditions>
		</SwapWeaponAction>

		<SwapWeaponAction Name="SwapBothRight" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="True" ValidationMode="Validate" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</SwapWeaponAction>

		<SwapWeaponAction Name="SwapBothBoth" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</SwapWeaponAction>

		<SwapWeaponAction Name="SwapLeftLeft" Urgency="Instant" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" HumanHandHelperItemMode="Include" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
			</FilteringConditions>
		</SwapWeaponAction>

		<SwapWeaponAction Name="SwapLeftRight" Urgency="Instant" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="True" ValidationMode="Validate" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" HumanHandHelperItemMode="Include" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</SwapWeaponAction>

		<SwapWeaponAction Name="SwapLeftBoth" Urgency="Instant" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" HumanHandHelperItemMode="Include" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" HumanHandHelperItemMode="Include" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</SwapWeaponAction>

		<SwapWeaponAction Name="SwapRightLeft" Urgency="Instant" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="True" />
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" HumanHandHelperItemMode="Include" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="True" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
			</FilteringConditions>
		</SwapWeaponAction>

		<SwapWeaponAction Name="SwapRightRight" Urgency="Instant" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="True" />
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
			</Conditions>
			<Effects>
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" HumanHandHelperItemMode="Include" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</SwapWeaponAction>

		<SwapWeaponAction Name="SwapRightBoth" Urgency="Instant" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="True" />
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" HumanHandHelperItemMode="Include" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" HumanHandHelperItemMode="Include" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</SwapWeaponAction>

		<SwapWeaponAction Name="SwapBothLeft" Urgency="Instant" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" HumanHandHelperItemMode="Include" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="True" ValidationMode="Validate" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
			</FilteringConditions>
		</SwapWeaponAction>

		<SwapWeaponAction Name="SwapBothRight" Urgency="Instant" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="True" ValidationMode="Validate" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" HumanHandHelperItemMode="Include" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</SwapWeaponAction>

		<SwapWeaponAction Name="SwapBothBoth" Urgency="Instant" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="False" InitializeItemFromRequest="True" />
			</Conditions>
			<Effects>
				<ChangeLeftHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" HumanHandHelperItemMode="Include" />
				<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="False" ValidationMode="Validate" HumanHandHelperItemMode="Include" />
			</Effects>
			<FilteringConditions>
				<FilteringConditionIsWeapon Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Left" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Left" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsEquipped Hand="Right" DataSource="CurrentState" />
				<FilteringConditionIsFromSlot Hand="Right" DataSource="CurrentState" Negate="true" />
				<FilteringConditionIsWeapon Hand="Left" />
				<FilteringConditionIsEquipped Hand="Left" />
				<FilteringConditionIsFromSlot Hand="Left" Negate="true" />
				<FilteringConditionIsWeapon Hand="Right" />
				<FilteringConditionIsEquipped Hand="Right" />
				<FilteringConditionIsFromSlot Hand="Right" Negate="true" />
			</FilteringConditions>
		</SwapWeaponAction>

		<!--
		============================================================= CART ========================================================================
		-->
		<CartActionIn Name="CartMount" />
		<CartActionIn Name="CartMount" Urgency="Instant" />
		<CartActionOut Name="CartDismount" />
		<CartActionOut Name="CartDismount" Urgency="Fast" />
		<CartActionOut Name="CartDismount" Urgency="Instant" />
		<!--
		============================================================= EQUIPMENT CHANGE ========================================================================
		-->
		<ChangeEquipmentAction Name="ChangeEquipmentToDefault" DataSource="CurrentState" Priority="2" />
		<ChangeEquipmentAction Name="ChangeEquipmentFromDefault" DataSource="RequiredState" Priority="-2" />		<!-- priority is set to ensure the action is execute near to the end -->
		<ChangeEquipmentAction Name="ChangeEquipmentToDefault" DataSource="CurrentState" Urgency="Instant" Priority="2" />
		<ChangeEquipmentAction Name="ChangeEquipmentFromDefault" DataSource="RequiredState" Urgency="Instant" Priority="-2" />		<!-- priority is set to ensure the action is execute near to the end -->
		
		<!--
				============================================================= ITEMS TO RETURN ========================================================================
		-->
		<ItemsToReturnAction Name="ItemsToReturn" DataSource="CurrentState" />
		<ItemsToReturnAction Name="ItemsToReturn" DataSource="CurrentState" Urgency="Instant" />
		<ItemsToReturnAction Name="AddItemsToReturn" DataSource="RequiredState" Urgency="Instant" >
			<FilteringConditions>
				<FilteringConditionSearchRequestFlags RequiredFlags="4" />		<!-- Flags are set so action is used only during game load -->
			</FilteringConditions>
		</ItemsToReturnAction>
		
		<!--
		============================================================= MINIGAME ========================================================================
		-->
		<UseMinigameAction Name="UseMinigameIn" DataSource="RequiredState" />
		<UseMinigameAction Name="UseMinigameOut" DataSource="CurrentState" Priority="5" />
		<UseMinigameAction Name="UseMinigameIn" DataSource="RequiredState" Urgency="Instant" />
		<UseMinigameAction Name="UseMinigameOut" DataSource="CurrentState" Urgency="Instant" Priority="5" />

		<!-- Actions implementing playing one shot animations -->
		<AnimAction Name="AlignedAnimAction" RequiresMovement="true" />

		<AnimAction Name="NonAlignedAnimAction" RequiresMovement="false" />

		<!-- Set aside related actions -->
		<PlaceSetAsideAction Name="PlaceRight_ToSetAside" Hand="Right" Priority="3" >
			<FilteringConditions>
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Right" Negate="True" />
			</FilteringConditions>
		</PlaceSetAsideAction>
		<PlaceSetAsideAction Name="PlaceLeft_ToSetAside" Hand="Left" Priority="3" >
			<FilteringConditions>
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Left" Negate="True" />
			</FilteringConditions>
		</PlaceSetAsideAction>
		<PickUpFromSetAsideAction Name="PickUpRight_FromSetAside" Hand="Right" >
			<FilteringConditions>
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Right" DataSource="CurrentState" Negate="True" />
			</FilteringConditions>
		</PickUpFromSetAsideAction>
		<PickUpFromSetAsideAction Name="PickUpLeft_FromSetAside" Hand="Left" >
			<FilteringConditions>
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Left" DataSource="CurrentState" Negate="True" />
			</FilteringConditions>
		</PickUpFromSetAsideAction>
		
		<PickUpFromSetAsideAction Name="PickUpRight_FromSetAside" Hand="Right" Urgency="Instant">
			<FilteringConditions>
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Right" DataSource="CurrentState" Negate="True" />
			</FilteringConditions>
		</PickUpFromSetAsideAction>
		<PickUpFromSetAsideAction Name="PickUpLeft_FromSetAside" Hand="Left" Urgency="Instant">
			<FilteringConditions>
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Left" DataSource="CurrentState" Negate="True" />
			</FilteringConditions>
		</PickUpFromSetAsideAction>
		
		<PlaceSetAsideAction Name="PlaceRight_ToSetAside" Hand="Right"  Urgency="Instant" Priority="3">
			<FilteringConditions>
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Right" Negate="True" />
			</FilteringConditions>
		</PlaceSetAsideAction>
		<PlaceSetAsideAction Name="PlaceLeft_ToSetAside" Hand="Left"  Urgency="Instant" Priority="3">
			<FilteringConditions>
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Left" Negate="True" />
			</FilteringConditions>
		</PlaceSetAsideAction>

		<PlaceSetAsideAction Name="PlaceRight_ToSetAside_BothEmpty" Hand="Right" Priority="3" >
			<Conditions>
				<LeftHandCondition DataSource="RequiredState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Right" />
			</FilteringConditions>
		</PlaceSetAsideAction>
		<PlaceSetAsideAction Name="PlaceLeft_ToSetAside_BothEmpty" Hand="Left" Priority="3" >
			<Conditions>
				<RightHandCondition DataSource="RequiredState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Left" />
			</FilteringConditions>
		</PlaceSetAsideAction>
		<PickUpFromSetAsideAction Name="PickUpRight_FromSetAside_BothEmpty" Hand="Right" >
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Right" DataSource="CurrentState" />
			</FilteringConditions>
		</PickUpFromSetAsideAction>
		<PickUpFromSetAsideAction Name="PickUpLeft_FromSetAside_BothEmpty" Hand="Left" >
			<Conditions>
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Left" DataSource="CurrentState" />
			</FilteringConditions>
		</PickUpFromSetAsideAction>

		<PickUpFromSetAsideAction Name="PickUpRight_FromSetAside_BothEmpty" Hand="Right" Urgency="Instant">
			<Conditions>
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Right" DataSource="CurrentState" />
			</FilteringConditions>
		</PickUpFromSetAsideAction>
		<PickUpFromSetAsideAction Name="PickUpLeft_FromSetAside_BothEmpty" Hand="Left" Urgency="Instant">
			<Conditions>
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionRequiresOtherHandEmpty IsPicking="True" Hand="Left" DataSource="CurrentState" />
			</FilteringConditions>
		</PickUpFromSetAsideAction>
		
		<PlaceSetAsideAction Name="PlaceRight_ToSetAside_BothEmpty" Hand="Right"  Urgency="Instant" Priority="3">
			<Conditions>
				<LeftHandCondition DataSource="RequiredState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Right" />
			</FilteringConditions>
		</PlaceSetAsideAction>
		<PlaceSetAsideAction Name="PlaceLeft_ToSetAside_BothEmpty" Hand="Left"  Urgency="Instant" Priority="3">
			<Conditions>
				<RightHandCondition DataSource="RequiredState" RequiresEmpty="True" />
			</Conditions>
			<FilteringConditions>
				<FilteringConditionRequiresOtherHandEmpty IsPicking="False" Hand="Left" />
			</FilteringConditions>
		</PlaceSetAsideAction>
		
		<!-- "Dummy" actions with no real implementation. Provide a way to leave an item set aside in slot for higher urgencies -->
		<ForgetSetAsideAction Name="LeaveRightSetAside" Urgency="Fast" Hand="Right" />
		<!--<ForgetSetAsideAction Name="LeaveRightSetAside" Urgency="Instant" Hand="Right" />-->
		<ForgetSetAsideAction Name="LeaveLeftSetAside" Urgency="Fast" Hand="Left" />
		<!--<ForgetSetAsideAction Name="LeaveLeftSetAside" Urgency="Instant" Hand="Left" />-->

		<!-- Actions to remove the ItemSetAside elements created for home slot auto return items -->
		<ForgetSetAsideAction Name="LeaveRightHomeSlotAutoReturnSetAside" Hand="Right" DisabledForUrgencies="Instant" >
			<FilteringConditions>
				<FilteringConditionHomeSlotAutoReturnItemSetAside DataSource="CurrentState" Hand="Right" />
			</FilteringConditions>
		</ForgetSetAsideAction>
		<ForgetSetAsideAction Name="LeaveLeftHomeSlotAutoReturnSetAside" Hand="Left" DisabledForUrgencies="Instant" >
			<FilteringConditions>
				<FilteringConditionHomeSlotAutoReturnItemSetAside DataSource="CurrentState" Hand="Left" />
			</FilteringConditions>
		</ForgetSetAsideAction>

		<RiderActionIn Name="GetOnHorse">
			<Conditions>
				<NoUnstanceCondition />
				<LeftHandCondition  DataSource="CurrentState" RequiresEmpty="True" />
				<RightHandCondition  DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<Effects>
				<ChangeStanceEffect DataSource="RequiredState" TargetStance="horse" />
			</Effects>
		</RiderActionIn>
		<RiderActionIn Name="GetOnHorse" Urgency="Instant">
			<Conditions>
				<NoUnstanceCondition />
				<LeftHandCondition  DataSource="CurrentState" RequiresEmpty="True" />
				<RightHandCondition  DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<Effects>
				<ChangeStanceEffect DataSource="RequiredState" TargetStance="horse" />
			</Effects>
		</RiderActionIn>
		<RiderActionOut Name="GetOffHorse">
			<Conditions>
				<NoUnstanceCondition />
				<LeftHandCondition  DataSource="CurrentState" RequiresEmpty="True" />
				<RightHandCondition  DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<Effects>
				<ChangeStanceEffect DataSource="CurrentState" TargetStance="standing" />
			</Effects>
		</RiderActionOut>
		<RiderActionOut Name="GetOffHorse" Urgency="Instant">
			<Conditions>
				<NoUnstanceCondition />
				<LeftHandCondition  DataSource="CurrentState" RequiresEmpty="True" />
				<RightHandCondition  DataSource="CurrentState" RequiresEmpty="True" />
			</Conditions>
			<Effects>
				<ChangeStanceEffect DataSource="CurrentState" TargetStance="standing" />
			</Effects>
		</RiderActionOut>

		<Success Name="StartUsingHorse">
			<Conditions>
				<StanceCondition RequiredStance="standing" />
				<HorseUsageCondition RequiresEmpty="True" />
			</Conditions>
			<Effects>
				<ChangeHorseUsageEffect DataSource="RequiredState" />
			</Effects>
		</Success>
		<Success Name="StartUsingHorse" Urgency="Instant">
			<Conditions>
				<StanceCondition RequiredStance="standing" />
				<HorseUsageCondition RequiresEmpty="True" />
			</Conditions>
			<Effects>
				<ChangeHorseUsageEffect DataSource="RequiredState" />
			</Effects>
		</Success>
		<StopUsingHorse Name="StopUsingHorse">
			<Conditions>
				<StanceCondition RequiredStance="horse" />
				<HorseUsageCondition />
				<HorseParkedCondition Negate="True" />
			</Conditions>
			<Effects>
				<ChangeHorseUsageEffect DataSource="CurrentState" RemovesHorseUsage="True" />
			</Effects>
		</StopUsingHorse>
		<RiderActionIn Name="GetOnHorseToPark">
			<Conditions>
				<NoUnstanceCondition />
				<RightHandCondition DataSource="CurrentState" RequiresEmpty="True" />
				<LeftHandCondition DataSource="CurrentState" RequiresEmpty="True" />
				<HorseUsageCondition />
			</Conditions>
			<Effects>
				<ChangeStanceEffect DataSource="CurrentState" TargetStance="horse" />
			</Effects>
		</RiderActionIn>
		<Success Name="StopUsingParkedHorse">
			<Conditions>
				<StanceCondition RequiredStance="standing" />
				<HorseUsageCondition />
				<HorseParkedCondition />
			</Conditions>
			<Effects>
				<ChangeHorseUsageEffect DataSource="CurrentState" RemovesHorseUsage="True" />
			</Effects>
		</Success>

	<!-- Actions for adding/removing the element for combat decorator activations -->
	<!-- Priority is set to ensure that combat automations element is added last and removed first -->
	<CombatAutomationsAction Name="AddCombatAutomantions" DataSource="RequiredState" Priority="-10"/>
	<CombatAutomationsAction Name="RemoveCombatAutomantions" DataSource="CurrentState" Priority="10"/>
	<CombatAutomationsAction Name="AddCombatAutomantions" Urgency="Instant" DataSource="RequiredState" Priority="-10"/>
	<CombatAutomationsAction Name="RemoveCombatAutomantions" Urgency="Instant" DataSource="CurrentState" Priority="10"/>

	<!-- Action to take out/take away the tankard -->
	<ExplicitFragmentAnimAction Name="TakeOutTankard" DataSource="RequiredState" Fragment="Guest_DrawTankard" DisabledForUrgencies="Instant" >
		<Conditions>
			<StanceCondition RequiredStance="sitting" CompareDataSourceObject="True" />
			<RightHandCondition DataSource="RequiredState" RequiresEmpty="True" />
			<LeftHandCondition DataSource="RequiredState" RequiresEmpty="True" />
			<ItemSetAsideCondition Hand="Right" RequiresSetAside="False" />
		</Conditions>
		<Effects>
			<ChangeItemSetAsideEffect DataSource="RequiredState" ValidationMode="Validate" />
			<ChangeRightHandContentEffect DataSource="RequiredState" LeavesEmpty="True" ValidationMode="Validate" />
		</Effects>
		<FilteringConditions>
			<FilteringConditionItemSetAside DataSource="RequiredState" Hand="Right" ItemClassId="710eae16-0b2e-a077-86a1-6c9ef8f949ef" SlotManipulationTag="BeerSlot" />
		</FilteringConditions>
	</ExplicitFragmentAnimAction>
	<ExplicitFragmentAnimAction Name="TakeAwayTankard" DataSource="CurrentState" Fragment="Guest_HolsterTankard" DisabledForUrgencies="Instant,Fast" Priority="1"> <!-- Priority is set to 1 to ensure this action is used instead of LeaveRightHomeSlotAutoReturnSetAside -->
		<Conditions>
			<StanceCondition RequiredStance="sitting" />
			<RightHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			<LeftHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			<ItemSetAsideCondition Hand="Right" />
		</Conditions>
		<Effects>
			<ChangeItemSetAsideEffect DataSource="CurrentState" ValidationMode="Validate" />
			<ChangeRightHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
		</Effects>
		<FilteringConditions>
			<FilteringConditionItemSetAside DataSource="CurrentState" Hand="Right" ItemClassId="710eae16-0b2e-a077-86a1-6c9ef8f949ef" SlotManipulationTag="BeerSlot" />
		</FilteringConditions>
	</ExplicitFragmentAnimAction>

	<ExplicitFragmentAnimAction Name="TakeAwayDiceCupAndDice" DataSource="CurrentState" Fragment="DiceGameOut" EventReference="StanceObject" DisabledForUrgencies="Instant" >
		<Conditions>
			<StanceCondition RequiredStance="sitting" DataSource="CurrentState" CompareDataSourceObject="True" />
			<RightHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			<LeftHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			<ItemSetAsideCondition ItemClassId="ab46991f-069b-4e7f-9a4c-2c27a87ea522" />		<!-- cup -->
			<ItemSetAsideCondition ItemClassId="ee14b57a-848c-4a97-84e9-9bd873902351" />		<!-- dice -->
		</Conditions>
		<Effects>
			<ChangeItemSetAsideEffect DataSource="CurrentState" ItemClassId="ab46991f-069b-4e7f-9a4c-2c27a87ea522"  ValidationMode="Validate" />
			<ChangeItemSetAsideEffect DataSource="CurrentState" ItemClassId="ee14b57a-848c-4a97-84e9-9bd873902351"  ValidationMode="Validate" />
			<ChangeRightHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
			<ChangeLeftHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
		</Effects>
		<FilteringConditions>
			<FilteringConditionItemSetAside DataSource="CurrentState" ItemClassId="ab46991f-069b-4e7f-9a4c-2c27a87ea522" SlotManipulationTag="DiceCup" />
			<FilteringConditionItemSetAside DataSource="CurrentState" ItemClassId="ee14b57a-848c-4a97-84e9-9bd873902351" SlotManipulationTag="DiceOnTable" />
		</FilteringConditions>
	</ExplicitFragmentAnimAction>
	<ExplicitFragmentAnimAction Name="TakeAwayDiceCup" DataSource="CurrentState" Fragment="DiceGameOut_OnlyCup" EventReference="StanceObject" DisabledForUrgencies="Instant" >
		<Conditions>
			<StanceCondition RequiredStance="sitting" DataSource="CurrentState" CompareDataSourceObject="True" />
			<RightHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			<ItemSetAsideCondition ItemClassId="ab46991f-069b-4e7f-9a4c-2c27a87ea522" />		<!-- cup -->
		</Conditions>
		<Effects>
			<ChangeItemSetAsideEffect DataSource="CurrentState" ItemClassId="ab46991f-069b-4e7f-9a4c-2c27a87ea522"  ValidationMode="Validate" />
			<ChangeRightHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
		</Effects>
		<FilteringConditions>
			<FilteringConditionItemSetAside DataSource="CurrentState" ItemClassId="ab46991f-069b-4e7f-9a4c-2c27a87ea522" SlotManipulationTag="DiceCup" />
		</FilteringConditions>
	</ExplicitFragmentAnimAction>
	<ExplicitFragmentAnimAction Name="TakeAwayDice" DataSource="CurrentState" Fragment="DiceGameOut_OnlyDice" EventReference="StanceObject" DisabledForUrgencies="Instant" >
		<Conditions>
			<StanceCondition RequiredStance="sitting" DataSource="CurrentState" CompareDataSourceObject="True" />
			<LeftHandCondition DataSource="CurrentState" RequiresEmpty="True" />
			<ItemSetAsideCondition ItemClassId="ee14b57a-848c-4a97-84e9-9bd873902351" />		<!-- dice -->
		</Conditions>
		<Effects>
			<ChangeItemSetAsideEffect DataSource="CurrentState" ItemClassId="ee14b57a-848c-4a97-84e9-9bd873902351"  ValidationMode="Validate" />
			<ChangeLeftHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
		</Effects>
		<FilteringConditions>
			<FilteringConditionItemSetAside DataSource="CurrentState" ItemClassId="ee14b57a-848c-4a97-84e9-9bd873902351" SlotManipulationTag="DiceOnTable" />
		</FilteringConditions>
	</ExplicitFragmentAnimAction>
	<ExplicitFragmentAnimAction Name="TakeAwayDiceCupAndDice_FromHand" DataSource="CurrentState" Fragment="DiceGameOut_OnlyDice" EventReference="StanceObject" DisabledForUrgencies="Instant" >
		<Conditions>
			<StanceCondition RequiredStance="sitting" DataSource="CurrentState" CompareDataSourceObject="True" />
		</Conditions>
		<FilteringConditions>
			<FilteringConditionIsItemClass DataSource="CurrentState" Hand="Right" ItemClass="ab46991f-069b-4e7f-9a4c-2c27a87ea522" />
			<FilteringConditionIsItemClass DataSource="CurrentState" Hand="Left" ItemClass="ee14b57a-848c-4a97-84e9-9bd873902351" />
		</FilteringConditions>
		<Effects>
			<ChangeRightHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
			<ChangeLeftHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
		</Effects>
		<FilteringConditions>
			<FilteringConditionItemSetAside DataSource="CurrentState" ItemClassId="ee14b57a-848c-4a97-84e9-9bd873902351" SlotManipulationTag="DiceOnTable" />
		</FilteringConditions>
	</ExplicitFragmentAnimAction>
	<ExplicitFragmentAnimAction Name="TakeAwayDiceCup_FromHand" DataSource="CurrentState" Fragment="DiceGameOut_OnlyCup" EventReference="StanceObject" DisabledForUrgencies="Instant" >
		<Conditions>
			<StanceCondition RequiredStance="sitting" DataSource="CurrentState" CompareDataSourceObject="True" />
			<RightHandCondition DataSource="CurrentState" RequiresEmpty="False" />
		</Conditions>
		<FilteringConditions>
			<FilteringConditionIsItemClass DataSource="CurrentState" Hand="Right" ItemClass="ab46991f-069b-4e7f-9a4c-2c27a87ea522" />
		</FilteringConditions>
		<Effects>
			<ChangeRightHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
		</Effects>
	</ExplicitFragmentAnimAction>
	<ExplicitFragmentAnimAction Name="TakeAwayDice_FromHand" DataSource="CurrentState" Fragment="DiceGameOut_OnlyDice" EventReference="StanceObject" DisabledForUrgencies="Instant" >
		<Conditions>
			<StanceCondition RequiredStance="sitting" DataSource="CurrentState" CompareDataSourceObject="True" />
			<LeftHandCondition DataSource="CurrentState" RequiresEmpty="False" />
		</Conditions>
		<FilteringConditions>
			<FilteringConditionIsItemClass DataSource="CurrentState" Hand="Left" ItemClass="ee14b57a-848c-4a97-84e9-9bd873902351" />
		</FilteringConditions>
		<Effects>
			<ChangeRightHandContentEffect DataSource="CurrentState" LeavesEmpty="True" ValidationMode="Validate" />
		</Effects>
	</ExplicitFragmentAnimAction>
	</NPCStateActionDatabase>
</database>
